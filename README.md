# Student App - تطبيق إدارة الطلاب

تطبيق React Native لإدارة الطلاب مع تسجيل الدخول، عرض الفصل، الجدول الدراسي، والملف الشخصي.

## الميزات

✅ **تسجيل الدخول**: نظام مصادقة آمن باستخدام NNI وكلمة المرور
✅ **الصفحة الرئيسية**: عرض معلومات الفصل الدراسي للطالب
✅ **الجدول الدراسي**: عرض تفصيلي للجدول الأسبوعي مع المواد والمعلمين
✅ **الملف الشخصي**: عرض معلومات الطالب الشخصية والدراسية

## هيكل المشروع

```
student-app/
├── screens/
│   ├── LoginScreen.js        # شاشة تسجيل الدخول
│   ├── HomeScreen.js          # الشاشة الرئيسية
│   ├── ScheduleScreen.js      # شاشة الجدول الدراسي
│   └── ProfileScreen.js       # شاشة الملف الشخصي
├── services/
│   └── api.js                 # خدمات الاتصال بالـ API
├── context/
│   └── AuthContext.js         # إدارة حالة المصادقة
├── navigation/
│   └── AppNavigator.js        # إدارة التنقل بين الشاشات
├── utils/
│   ├── constants.js           # الثوابت والألوان
│   ├── globalStyles.js        # الأنماط العامة
│   └── helpers.js             # وظائف مساعدة
└── App.js                     # نقطة البداية
```

## التثبيت والإعداد

### 1. تثبيت المكتبات

```bash
npm install
```

أو

```bash
npx expo install
```

### 2. إعداد API

قم بتعديل عنوان السيرفر في `config/apiConfig.js`:

```javascript
export const API_BASE_URL = 'http://YOUR_IP:8000';
```

**للحصول على IP الخاص بك:**

**Windows:**
```cmd
ipconfig
```
ابحث عن "IPv4 Address" (مثل: 192.168.1.100)

**Mac/Linux:**
```bash
ifconfig
```

**ملاحظة:** تأكد من أن السيرفر Laravel يعمل:
```bash
php artisan serve --host=0.0.0.0 --port=8000
```

### 3. تشغيل التطبيق

```bash
npm start
```

أو

```bash
npx expo start
```

## استخدام API

التطبيق يتصل بـ API التالية:

### تسجيل الدخول
```
POST /api/student/login
{
  "nni": "رقم التعريف الوطني",
  "password": "كلمة المرور"
}
```

### عرض الجدول الدراسي
```
GET /api/student/schedule
Header: Authorization: Bearer {token}
```

### عرض الملف الشخصي
```
GET /api/student/profile
Header: Authorization: Bearer {token}
```

### تسجيل الخروج
```
POST /api/student/logout
Header: Authorization: Bearer {token}
```

## الشاشات

### 1. شاشة تسجيل الدخول (LoginScreen)
- حقل إدخال رقم التعريف الوطني (NNI)
- حقل إدخال كلمة المرور
- زر تسجيل الدخول
- مؤشر التحميل عند الإرسال

### 2. الشاشة الرئيسية (HomeScreen)
- ترحيب بالطالب مع صورته
- بطاقة معلومات الفصل:
  - اسم القسم
  - المستوى
  - التخصص
  - السنة الدراسية
- زر عرض الجدول الدراسي
- إجراءات سريعة:
  - الملف الشخصي
  - الجدول الدراسي
  - تسجيل الخروج

### 3. شاشة الجدول الدراسي (ScheduleScreen)
- عرض الجدول حسب الأيام
- لكل حصة:
  - اسم المادة
  - وقت الحصة
  - اسم المعلم
  - الفصل الدراسي
- إمكانية السحب للتحديث

### 4. شاشة الملف الشخصي (ProfileScreen)
- صورة الطالب
- المعلومات الشخصية:
  - الاسم الكامل
  - رقم التعريف الوطني
  - اسم ولي الأمر
  - رقم الهاتف
- معلومات الفصل الدراسي
- زر عرض الجدول
- زر تسجيل الخروج

## المكتبات المستخدمة

- **React Navigation**: للتنقل بين الشاشات
- **AsyncStorage**: لتخزين البيانات محلياً
- **Expo**: منصة تطوير React Native

## ملاحظات مهمة

1. **الأمان**: 
   - يتم تخزين Token في AsyncStorage
   - جميع الطلبات المحمية تتطلب Token
   - يتم تشفير كلمات المرور من جانب السيرفر

2. **التخزين المحلي**:
   - يتم حفظ بيانات الطالب بعد تسجيل الدخول
   - التطبيق يتحقق من وجود Token عند البدء
   - يتم مسح جميع البيانات عند تسجيل الخروج

3. **التصميم**:
   - واجهة عربية كاملة
   - تصميم متجاوب
   - ألوان متناسقة
   - تجربة مستخدم سلسة

## حل المشاكل الشائعة

### ❌ خطأ: JSON Parse error: Unexpected character: <

هذا يعني أن السيرفر يرجع HTML بدلاً من JSON. الحلول:

1. **تحقق من عنوان API** في `config/apiConfig.js`
2. **تأكد من أن Laravel يعمل**: `php artisan serve --host=0.0.0.0 --port=8000`
3. **تأكد من نفس الشبكة**: الجهازين على نفس WiFi
4. **اختبر من المتصفح**: `http://YOUR_IP:8000/api/student/login`

**للمزيد من المساعدة، راجع ملف [TROUBLESHOOTING.md](TROUBLESHOOTING.md)**

### ❌ خطأ: Network request failed

1. تحقق من أن السيرفر يعمل
2. تحقق من IP في `config/apiConfig.js`
3. تعطيل Firewall مؤقتاً

### ✅ اختبار سريع للـ API

```bash
# تسجيل دخول
curl -X POST http://YOUR_IP:8000/api/student/login \
  -H "Content-Type: application/json" \
  -d '{"nni":"1234567890","password":"1234567890"}'
```

## التطوير المستقبلي

يمكن إضافة الميزات التالية:

- [ ] نظام الإشعارات
- [ ] نظام الحضور والغياب
- [ ] نظام الدرجات والتقييم
- [ ] نظام الواجبات المنزلية
- [ ] تغيير كلمة المرور
- [ ] تحديث الملف الشخصي
- [ ] دعم اللغة الفرنسية

## الدعم

للمساعدة أو الإبلاغ عن مشاكل، يرجى التواصل مع فريق التطوير.
